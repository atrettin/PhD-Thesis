\tikzsetnextfilename{atmo_baseline_illustration}%
\begin{tikzpicture}
    \def\Rearth{2.6}
    \def\Rcore{1.3}
    \def\Ratmo{3}
    \def\detpos{-2.2}
    \draw[name path=atmo, fill=cyan!50!white] (0,0) circle (\Ratmo);
    \shadedraw[
        outer color=brown!70!black,
        inner color=brown!40!white,
        name path=earh,
        %postaction={decorate},
        %decoration={raise=2pt, text along path, text={Earth}, text align=center}
    ] (0,0) circle (\Rearth);
    \shade[outer color=brown!70!black,inner color=brown!40!white, name path=earh] (0,0) circle (\Rcore);
    \node [draw, thick, shape=rectangle, minimum width=0.3cm, minimum height=0.4cm, anchor=center, fill=gray] (detector) at (0, \detpos) {};
    \path [name path=nupath] (detector) +(55:6) -- +(235:1);
    \draw [name intersections={of=nupath and atmo, by={a,b}}, -stealth, very thick] (a) -- node[above, sloped] {$L$} (b);
    \draw [name intersections={of=nupath and atmo, by={a,b}}, thick] (detector.center) --  node [sloped, above, pos=0.6] {$R_\oplus - d_\mathrm{det}$} (0,0) -- node [sloped, above] {$R_\oplus + h_\mathrm{atm}$} (a);
    \draw (detector) +(90:0.4) arc (90:235:0.4) node[midway, anchor=east] {$\theta_z$};
    \draw [stealth-stealth] (0,0) -- node [above] {$R_\oplus$} (150:\Rearth);
    \draw [stealth-stealth] (150:\Rearth) -- node [draw,above=0.2cm, fill=white] {$h_\mathrm{atm}$} (150:\Ratmo);
    \draw (detector.center) -- (detector -| 0.5,0);
    \draw (0, -\Rearth) -- (0.5, -\Rearth);
    \draw [stealth-stealth] (0.5, -\Rearth) -- node[draw, fill=white, right=.1cm] {$d_\mathrm{det}$} (detector -| 0.5,0);
    \node [anchor=north] at (0,\Rearth) {\footnotesize mantle};
    \node [anchor=north] at (0,\Rcore) {\footnotesize core};
\end{tikzpicture}
