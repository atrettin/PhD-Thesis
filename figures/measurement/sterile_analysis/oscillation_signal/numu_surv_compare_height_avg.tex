\tikzsetnextfilename{numu_surv_compare_height_avg}%
\begin{tikzpicture}

\definecolor{darkgray176}{RGB}{176,176,176}

\begin{groupplot}[
    group style={
        group size=2 by 1,
        ylabels at=edge left,
        yticklabels at=edge left,
        horizontal sep=0.5 cm
    },
    log basis x={10},
    tick align=outside,
    tick pos=left,
    xlabel={energy (GeV)},
    xmin=2, xmax=5000,
    xmode=log,
    xtick style={color=black},
    y grid style={darkgray176},
    ylabel={\(\displaystyle \cos(\theta_{\mathrm{z}})\)},
    ymin=-1, ymax=1,
    ytick style={color=black},
    width=0.55\textwidth
]
\nextgroupplot[
    colorbar horizontal,
    colorbar style={
        xlabel={$P(\nu_\mu\rightarrow\nu_\mu)$},
        width=2*\pgfkeysvalueof{/pgfplots/parent axis width} + \pgfkeysvalueof{/pgfplots/group/horizontal sep},
        height=0.35cm,
        anchor=south west,
        at={(0, 1.05)},
        xticklabel pos=upper,
        tick pos=upper
    },
    colormap={mymap}{[1pt]
      rgb(0pt)=(0.368627450980392,0.309803921568627,0.635294117647059);
      rgb(1pt)=(0.196078431372549,0.533333333333333,0.741176470588235);
      rgb(2pt)=(0.4,0.76078431372549,0.647058823529412);
      rgb(3pt)=(0.670588235294118,0.866666666666667,0.643137254901961);
      rgb(4pt)=(0.901960784313726,0.96078431372549,0.596078431372549);
      rgb(5pt)=(1,1,0.749019607843137);
      rgb(6pt)=(0.996078431372549,0.87843137254902,0.545098039215686);
      rgb(7pt)=(0.992156862745098,0.682352941176471,0.380392156862745);
      rgb(8pt)=(0.956862745098039,0.427450980392157,0.262745098039216);
      rgb(9pt)=(0.835294117647059,0.243137254901961,0.309803921568627);
      rgb(10pt)=(0.619607843137255,0.00392156862745098,0.258823529411765)
    },
    point meta max=1,
    point meta min=0,
]
\addplot graphics [includegraphics cmd=\pgfimage,xmin=1, xmax=10000, ymin=-1, ymax=1] {figures/measurement/sterile_analysis/oscillation_signal/numu_surv_sterile_1eV_th24_15deg_noheightfilter-000.png};

\node[plot annotation, anchor=north east] at (axis description cs:0.99, 0.99) {$h_\mathrm{prod}=20\;\mathrm{km}$};

\nextgroupplot
\addplot graphics [includegraphics cmd=\pgfimage,xmin=1, xmax=10000, ymin=-1, ymax=1] {figures/measurement/sterile_analysis/oscillation_signal/numu_surv_sterile_1eV_th24_15deg_withheightfilter-000.png};

\node[plot annotation, anchor=north east] at (axis description cs:0.99, 0.99) {$10\;\mathrm{km} < h_\mathrm{prod} < 30\;\mathrm{km}$};

\end{groupplot}

\end{tikzpicture}
